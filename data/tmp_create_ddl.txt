drop table ORDER_SMARTPHONES;
drop table PURCHASE_ORDER;
drop table APP_USER;
drop table SMARTPHONE;
drop table BRAND;

create table BRAND
(
    ID   SERIAL primary key,
    NAME VARCHAR(255)
);

INSERT INTO PUBLIC.BRAND (ID, NAME) VALUES (1, 'XIAOMI');
INSERT INTO PUBLIC.BRAND (ID, NAME) VALUES (2, 'Apple');
INSERT INTO PUBLIC.BRAND (ID, NAME) VALUES (3, 'Honor');
INSERT INTO PUBLIC.BRAND (ID, NAME) VALUES (4, 'Samsung');

create table SMARTPHONE
(
    ID          SERIAL         primary key,
    CPU         VARCHAR(255)   not null,
    DESCRIPTION VARCHAR(255),
    GPU         VARCHAR(255)   not null,
    MODEL_NAME  VARCHAR(255)   not null,
    PRICE       DECIMAL(19, 2) not null,
    RAM         INTEGER        not null,
    ROM         INTEGER        not null,
    BRAND_ID    BIGINT         not null references BRAND (ID)
);

INSERT INTO PUBLIC.SMARTPHONE (ID, CPU, DESCRIPTION, GPU, MODEL_NAME, PRICE, RAM, ROM, BRAND_ID) VALUES (1, 'Snapdragon 420', 'Lorem Ipsum', 'auf 223', 'A2 Lite', 12990.00, 4, 64, 1);
INSERT INTO PUBLIC.SMARTPHONE (ID, CPU, DESCRIPTION, GPU, MODEL_NAME, PRICE, RAM, ROM, BRAND_ID) VALUES (2, 'M1', 'Lorem Ipsum', 'auf 223', 'SE 2020', 44590.00, 3, 64, 2);
INSERT INTO PUBLIC.SMARTPHONE (ID, CPU, DESCRIPTION, GPU, MODEL_NAME, PRICE, RAM, ROM, BRAND_ID) VALUES (3, 'Snapdragon 420', 'Lorem Ipsum', 'auf 223', 'POCO F3', 12990.00, 4, 256, 1);
INSERT INTO PUBLIC.SMARTPHONE (ID, CPU, DESCRIPTION, GPU, MODEL_NAME, PRICE, RAM, ROM, BRAND_ID) VALUES (4, 'M1', 'Lorem Ipsum', 'auf 223', 'iPhone 11', 44590.00, 4, 128, 2);
INSERT INTO PUBLIC.SMARTPHONE (ID, CPU, DESCRIPTION, GPU, MODEL_NAME, PRICE, RAM, ROM, BRAND_ID) VALUES (5, 'Snapdragon 420', 'Lorem Ipsum', 'auf 223', 'MI 9T', 12990.00, 4, 128, 1);
INSERT INTO PUBLIC.SMARTPHONE (ID, CPU, DESCRIPTION, GPU, MODEL_NAME, PRICE, RAM, ROM, BRAND_ID) VALUES (6, 'Snapdragon 640', 'Lorem Ipsum', 'auf 223', 'Honor 30i', 44590.00, 3, 128, 3);

create table APP_USER
(
    ID          serial       primary key,
    USER_NAME   VARCHAR(255) not null unique,
    PASSWORD    VARCHAR(255) not null,
    USER_ROLE   VARCHAR(255) not null
);

INSERT INTO PUBLIC.APP_USER (USER_NAME, PASSWORD, USER_ROLE) VALUES ('limon', '$2y$12$96p1QHAdBmuF/6td5bmOpeX8ggGrhe0Dc4LyZvJHDqy9Qo5jc1evW', 'USER');
INSERT INTO PUBLIC.APP_USER (USER_NAME, PASSWORD, USER_ROLE) VALUES ('admin', '$2y$12$96p1QHAdBmuF/6td5bmOpeX8ggGrhe0Dc4LyZvJHDqy9Qo5jc1evW', 'ADMIN');


create table PURCHASE_ORDER
(
    ID         SERIAL         primary key,
    FULL_PRICE DECIMAL(19, 2) not null,
    NUMBER     VARCHAR(255)   not null,
    STATUS     VARCHAR(255)   not null,
    USER_ID    BIGINT         references APP_USER (ID)
);

INSERT INTO PUBLIC.PURCHASE_ORDER (ID, FULL_PRICE, NUMBER, STATUS, USER_ID) VALUES (1, 140000.00, 'yyyyMMddHHmmssSSS', 'PROCESSING', 1);

create table ORDER_SMARTPHONES
(
    SMARTPHONE_ID BIGINT not null references SMARTPHONE (ID),
    ORDER_ID      BIGINT not null references PURCHASE_ORDER (ID)
);

INSERT INTO PUBLIC.ORDER_SMARTPHONES (SMARTPHONE_ID, ORDER_ID) VALUES (1, 1);

